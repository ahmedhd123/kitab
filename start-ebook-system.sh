#!/bin/bash

echo "๐ ุจุฏุก ุชุดุบูู ูุธุงู ูุชุงุจู - ููุตุฉ ุงููุชุจ ุงูุฐููุฉ"
echo "=============================================="

# ุงูุชุญูู ูู Node.js
echo "๐ ุงูุชุญูู ูู ุงููุชุทูุจุงุช..."
if ! command -v node &> /dev/null; then
    echo "โ Node.js ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Node.js ุฃููุงู"
    exit 1
fi

echo "โ Node.js: $(node --version)"
echo "โ npm: $(npm --version)"

# ุจุฏุก ุชุทุจูู ุงูููุจ
echo ""
echo "๐ ุจุฏุก ุชุดุบูู ุชุทุจูู ุงูููุจ..."
cd web-app

# ุชุซุจูุช ุงูุชุจุนูุงุช ุฅุฐุง ูู ุชูู ูุซุจุชุฉ
if [ ! -d "node_modules" ]; then
    echo "๐ฆ ุชุซุจูุช ุงูุชุจุนูุงุช..."
    npm install
fi

# ุชุดุบูู ุงูุชุทุจูู
echo "๐ ุชุดุบูู ุงููุธุงู..."
npm run dev &

# ุงูุชุธุงุฑ ุจุฏุก ุงูุฎุงุฏู
sleep 5

echo ""
echo "โ ุชู ุชุดุบูู ุงููุธุงู ุจูุฌุงุญ!"
echo ""
echo "๐ ุงูุฑูุงุจุท:"
echo "   ุชุทุจูู ุงูููุจ: http://localhost:3000"
echo ""
echo "๐ค ุญุณุงุจุงุช ุชุฌุฑูุจูุฉ:"
echo "   ุงููุทูุฑ: developer@test.com / 123456"
echo "   ุงููุฎุชุจุฑ: tester@test.com / 123456"
echo "   ุงููุงุฑุฆ: reader@test.com / 123456"
echo ""
echo "๐ ุงูููุฒุงุช ุงููุชุงุญุฉ:"
echo "   โ ุชุณุฌูู ุฏุฎูู ูุจุณุท"
echo "   โ ููุชุจุฉ ุงููุชุจ ุงูุชูุงุนููุฉ"
echo "   โ ูุงุฑุฆ ูุชุจ ุฅููุชุฑูููุฉ ูุชูุฏู"
echo "   โ ุฑูุน ุงููุชุจ ุจุณุญุจ ูุฅููุงุช"
echo "   โ ูุงุฌูุฉ ุนุฑุจูุฉ ูุชุฌุงูุจุฉ"
echo ""
echo "โญ ูุฅููุงู ุงููุธุงู: Ctrl+C"
echo ""

# ุฅุจูุงุก ุงูุณูุฑูุจุช ููุฏ ุงูุชุดุบูู
wait
